## 立即执行函数表达式

立即执行函数表达式（Immediately Invoked Function Expression, IIFE）是JavaScript中一种立即执行的函数表达式。它结合了函数声明和函数调用，使得函数在定义后立即执行。IIFE通常用于创建一个独立的作用域，以避免变量污染全局作用域，或者用于封装一些需要立即执行的代码块。

IIFE的基本语法结构如下：

```javascript
(function() {
    // 代码块
    // 这里可以定义变量、函数等，它们只在这个立即执行的函数作用域内有效
})();
```

或者，如果你需要向这个函数传递参数，可以这样做：

```javascript
(function(param1, param2) {
    // 使用param1和param2
})();
// 注意：上面的代码没有直接传递参数，如果你需要传递，可以像这样：
(function(param1, param2) {
    console.log(param1 + param2);
})(1, 2); // 输出：3
```

在你提供的关于闭包和循环的上下文中，IIFE被用来确保每个函数都能捕获到循环变量 `i` 的当前值。这是通过将 `i` 作为参数传递给IIFE来实现的，如下所示：

```javascript
var arr = [];
for (var i = 0; i < 2; i++) {
    arr[i] = (function(j) {
        return function() {
            console.log(j);
        };
    })(i); // 注意这里立即调用了函数，并将i作为参数传递
}

arr[0](); // 输出 0
arr[1](); // 输出 1
```

在这个例子中，每个循环迭代都创建了一个新的作用域（由IIFE提供），并且 `i` 的当前值被作为参数 `j` 传递给了这个作用域内的函数。由于 `j` 是在IIFE的作用域内被定义的，因此它对于每个函数来说都是独立的，即使这些函数是在循环结束后才被调用的。这样，每个函数就能记住它们各自在循环中迭代时的 `i` 值了。