# JavaScript中!!、||、?.、??运算符的区别和用法

> JavaScript 中有四个常用的运算符，分别是 `!!`、`||`、`?.`、`??`，它们都可以用于处理值的真假性和空值情况。

## !! 用法

- `!!` 对一个值进行两次逻辑非运算，第一次逻辑非运算会将值转换为布尔值，然后取反，第二次逻辑非运算会再次取反，得到原始的布尔值。
- `!!` 可以用于判断一个值是否为真值或者假值。 例如，变量 `x` 是一个真值，如 `true`、`1`、`"hello"` 等，那么 `!!x` 会返回 `true`； 如果 `x` 是一个假值，例如 `false`、`0`、`""` 等， `!!x` 则会返回 `false`，。

## `?.` 和 `??` 的区别

- `?.` 是可选链运算符，用于访问一个可能为空或者未定义的对象的属性，如果对象为空或者未定义，它会返回 `undefined`，而不会抛出错误。 例如，如果 `obj` 是一个对象，那么 `obj?.name` 会返回 `obj` 的 `name` 属性，如果 `obj` 是 `null` 或者 `undefined`，那么 `obj?.name` 会返回 `undefined`。
- `??` 是空值合并运算符，它用于提供一个默认值，当左边的表达式为 `null` 或者 `undefined` 时，它会返回右边的表达式的值，否则返回左边的表达式的值。例如，如果 `x` 是一个变量，那么 `x ?? 0` 会返回 `x` 的值，如果 `x` 是 `null` 或者 `undefined`，那么 `x ?? 0` 会返回 `0`。

## `??` 和 `||` 的区别

- `??` 只会在左边的表达式为 `null` 或者 `undefined` 时，返回右边的表达式的值，否则返回左边的表达式的值。这意味着，如果左边的表达式是一个假值，例如 `false`、`0`、`""` 等，它仍然会被返回。
- `||` 会在左边的表达式为任何假值时，返回右边的表达式的值，否则返回左边的表达式的值。这意味着，如果左边的表达式是一个真值，例如 `true`、`1`、`"hello"` 等，它会被返回。

## 总结

所以，`??` 和 `||` 的用法取决于你想要实现的逻辑。一般来说，如果你只想排除 `null` 或者 `undefined`，那么使用 `??` 比较好；如果你想排除所有假值，那么使用 `||` 比较好。例如：

```javascript
// 假设 name 是一个变量
const greeting = name ?? "guest"; // 如果 name 是 null 或者 undefined，那么 greeting 会是 "guest"，否则会是 name 的值
const status = name || "unknown"; // 如果 name 是任何假值，那么 status 会是 "unknown"，否则会是 name 的值
```